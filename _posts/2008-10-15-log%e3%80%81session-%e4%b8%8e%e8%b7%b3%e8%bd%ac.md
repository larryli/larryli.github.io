---
ID: 631779
post_title: Log、Session 与跳转
author: 南 靖男
post_date: 2008-10-15 10:27:01
post_excerpt: ""
layout: post
permalink: https://larryli.cn/2008/10/631779
published: true
---
<p>熟悉 <a href="http://drupal.org">Drupal</a> 的构架后，回头看看国内的开发框架以及相关程序发现最欠缺的内容就是程序本身的 Log 系统（不是开发调试用的 Log）、基于 Session 的用户交互界面。</p>  <p>现在的程序无论 Log 和 Session 都是基于文件的，对于拥有多台 Apache 后端的系统构架来说肯定不行。这个似乎与国内的 PHP 环境大多提供的 MySQL 数据库空间过少的现实有关。</p>  <p>对于 Log 来说，本身大部分国内开发者更喜欢一行一行的去 Debug 程序，即使在开发上都不愿意使用。那么增加额外的系统操作 Log 更是难上加难。不过，良好的系统操作 Log 对于程序的安全性和开发测试也是非常有益的。类似于程序开发 Log，对于整个系统也建立一套 Log，能够方便程序管理员发现程序的安全隐患和性能负载找出瓶颈，也能统计出一些有益的数据，方便网站应用的发展。</p>  <p>至于基于 Session 的跳转用户界面。大多数国内程序都还是喜欢使用中间页，也就是当一个操作成功后，出现一个设置几秒内跳转到其他页面的中间页面，该页面显示刚才操作成功的提示信息。这样子其实白白让 Web 服务器多了一个请求，而且对用户极度不友好（浏览器到后退按钮因为这个中间页失效）。所以，省去中间页，将提示信息（不仅仅是成功信息，也包括错误信息）统一储存到 Session 中，只用在跳转后的页面中显示当前 Session 信息即可（成功跳转到其他页面，错误仍然在当前页面，但一样的处理来显示 Session 中的成功或错误信息）。</p>